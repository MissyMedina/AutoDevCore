"""
ASCII Weather Plugin for AutoDevCore
A simple plugin that generates ASCII weather art
"""

import random
from datetime import datetime


def run(input_text: str) -> str:
    """
    Run the ASCII weather plugin.
    
    Args:
        input_text: Input text (unused in this plugin)
        
    Returns:
        ASCII weather art
    """
    weather_conditions = [
        "â˜€ï¸ Sunny",
        "ğŸŒ§ï¸ Rainy", 
        "â›… Partly Cloudy",
        "â„ï¸ Snowy",
        "ğŸŒªï¸ Stormy",
        "ğŸŒˆ Rainbow"
    ]
    
    weather = random.choice(weather_conditions)
    current_time = datetime.now().strftime("%H:%M")
    
    ascii_art = f"""
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                    AutoDevCore Weather                       â•‘
    â•‘                                                              â•‘
    â•‘  Current Time: {current_time}                                    â•‘
    â•‘  Weather: {weather:<45} â•‘
    â•‘                                                              â•‘
    â•‘  {_get_weather_ascii(weather)}  â•‘
    â•‘                                                              â•‘
    â•‘  Plugin Status: âœ… Active                                     â•‘
    â•‘  Generated by: ASCII Weather Plugin                          â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    """
    
    return ascii_art


def _get_weather_ascii(weather: str) -> str:
    """Get ASCII art for the weather condition."""
    if "Sunny" in weather:
        return """
        â˜€ï¸
        """
    elif "Rainy" in weather:
        return """
        ğŸŒ§ï¸
        """
    elif "Cloudy" in weather:
        return """
        â›…
        """
    elif "Snowy" in weather:
        return """
        â„ï¸
        """
    elif "Stormy" in weather:
        return """
        ğŸŒªï¸
        """
    elif "Rainbow" in weather:
        return """
        ğŸŒˆ
        """
    else:
        return """
        ğŸŒ¤ï¸
        """
